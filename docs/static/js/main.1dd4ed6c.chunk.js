(this["webpackJsonppsychometrics-example"]=this["webpackJsonppsychometrics-example"]||[]).push([[0],[,,,function(e,i,t){e.exports=t(11)},function(e,i,t){},,,,,function(e,i,t){},function(e){e.exports=JSON.parse('{"instructions":{"pre":"Remember the highlighted tiles","post":"Tap the highlighted tiles"},"scenarios":[{"grid":"2*2","highlightedTiles":1,"preDisplayTime":1000,"postDisplayTime":1000},{"grid":"3*3","highlightedTiles":3,"preDisplayTime":1000,"postDisplayTime":2000},{"grid":"4*4","highlightedTiles":5,"preDisplayTime":1000,"postDisplayTime":2000},{"grid":"5*5","highlightedTiles":8,"preDisplayTime":1000,"postDisplayTime":3000},{"grid":"6*6","highlightedTiles":10,"preDisplayTime":1000,"postDisplayTime":50000},{"grid":"7*7","highlightedTiles":13,"preDisplayTime":1000,"postDisplayTime":60000},{"grid":"8*8","highlightedTiles":20,"preDisplayTime":1000,"postDisplayTime":70000},{"grid":"9*9","highlightedTiles":33,"preDisplayTime":1000,"postDisplayTime":80000},{"grid":"10*10","highlightedTiles":66,"preDisplayTime":1000,"postDisplayTime":10000}]}')},function(e,i,t){"use strict";t.r(i);t(4);var n=t(0),r=t.n(n),s=t(2),o=t.n(s);function a(){return(a=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var l="_1Lxpd",u="_3XM5h",c={borderRadius:6,cursor:"pointer"},h=function(e){var i=e.height,t=e.width,r=e.margin,s=e.onClick,o=e.isHighlighted,l=e.disable,u=e.keepHighlighted;return Object(n.createElement)("div",Object.assign({role:"button"},{onClick:s},{key:(new Date).toISOString()+Math.random(),style:a({},c,{width:t,height:i,margin:r,pointerEvents:l?"none":"all",background:u?"white":"#414ba5",animation:"anim-highlighted",animationDuration:"0.16s",animationDirection:"alternate",animationPlayState:"running",animationTimingFunction:"ease-in-out",animationIterationCount:o?"infinite":0})}))},p={display:"flex",flexWrap:"wrap",justifyItems:"center"},g="_18U9H",d="_3gpJI",m=function(e){var i=e.text,t=e.left,r=e.marginTop;return Object(n.createElement)("div",{style:{left:t,marginTop:r,backgroundColor:"white",textAlign:"center"},className:g},Object(n.createElement)("span",{className:d},i))};function f(e,i){return e&&!!e.find((function(e){var t=e.posx,n=e.posy;return t===i.posx&&n===i.posy}))}function y(e){for(var i=e.highlightedTiles,t=e.grid.split("*").map((function(e){return+e||0})),n=t[0],r=t[1],s=[],o=function(){if(s.length===Math.min(i,n*r))return"break";var e=Math.floor(Math.random()*r),t=Math.floor(Math.random()*n);s.find((function(i){return(null===i||void 0===i?void 0:i.posx)===e&&(null===i||void 0===i?void 0:i.posy)===t}))||s.push({posx:e,posy:t})};;){if("break"===o())break}return s}var T,v,b=function(e){var i=e.scenario.grid,t=e.onPressTiles,n=e.instructions,s=e.highlightedTiles,o=e.status,l=e.positionsSelected,u=null===i||void 0===i?void 0:i.split("*").map((function(e){return+e||0})),c=u[0],g=u[1],d=r.a.useCallback((function(e){return function(){return null===t||void 0===t?void 0:t(e)}}),[t]);var y=50*g+6*g,T=50*c+6*g;return r.a.createElement("div",{style:a({},p,{width:y,height:T})},o.showGrid&&Array.apply(null,new Array(c*g)).map((function(e,i){var t=function(e,i){return{posx:e%i,posy:Math.floor(e/i)}}(i,g);return r.a.createElement(h,{width:50,height:50,margin:3,key:"tiles-"+i,onClick:d(t),disable:!o.isPause,keepHighlighted:f(l,t),isHighlighted:!o.isPause&&f(s,t)})})),r.a.createElement(m,{marginTop:T+16+"px",left:"calc(50% - 88px)",text:o.isPre?null===n||void 0===n?void 0:n.pre:null===n||void 0===n?void 0:n.post}))},D=document.styleSheets[0];D.insertRule("\n    @keyframes anim-highlighted {\n      0%   {background-color:#414ba5;}\n      100% {background-color:white;}\n    }\n  ",D.cssRules.length);var x={isPause:!1,isPost:!1,isPre:!0,showGrid:!1},P=function(e){var i=e.configuration,t=i.instructions,s=i.scenarios,o=Object(n.useState)(0),c=o[0],h=o[1],p=s[c],g=Object(n.useState)(0),d=g[0],m=g[1],D=Object(n.useState)(x),P=D[0],k=D[1],w=Object(n.useState)([]),O=w[0],j=w[1],E=Object(n.useMemo)((function(){return{highlightedTiles:y(p),userResponse:[]}}),[p,c]),M=E.highlightedTiles,S=E.userResponse;function R(){console.log("Screen "+p.grid+" response:",{scenario:{highlightedTiles:M,userResponse:S}});var e=s.length-1,i=Math.min(c+1,e);clearInterval(T),i!==e?(h((function(){return i})),k((function(e){return a({},e,{isPause:!1})})),m((function(){return p.postDisplayTime/1e3})),j((function(){return[]})),E.userResponse=[]):console.log("Finished psychometrics assessments.")}return Object(n.useEffect)((function(){var e=0;return T=setInterval((function(){if(P.isPre&&("0.16"===e.toFixed(2)&&k((function(e){return a({},e,{showGrid:!0})})),"0.17"===e.toFixed(2)&&k((function(e){return a({},e,{isPost:!0})})),Math.floor(e)===p.preDisplayTime/1e3&&k((function(e){return a({},e,{isPre:!1})}))),P.isPost&&!P.isPre){"0.16"===e.toFixed(2)&&k((function(e){return a({},e,{isPause:!0})}));var i=Math.floor(e),t=p.postDisplayTime/1e3,n=t-i;m((function(){return n})),i===t&&(E.userResponse=[],R())}e+=.001}),.001),function(){clearInterval(T)}}),[k,c,P.isPost,P.isPre,p.postDisplayTime,p.preDisplayTime]),r.a.createElement("div",{className:l},r.a.createElement("p",{className:u},d),r.a.createElement(b,Object.assign({},{scenario:p,onPressTiles:function(e){var i=f(M,e);if(i){if(!S.find((function(i){var t=i.posx,n=i.posy;return t===e.posx&&n===e.posy}))){var t=[].concat(S,[e]);if(j((function(){return t})),S.push(e),M.length===t.length){for(var n=0,r=0;r<t.length;r++)f(M,t[r])&&(n+=1);p.highlightedTiles===n&&(console.log("You Win!"),R())}}}else j((function(){return[]})),E.userResponse=[],clearTimeout(v),k((function(e){return a({},e,{isPause:i})})),v=setTimeout((function(){return k((function(e){return a({},e,{isPause:!i})}))}),500)},highlightedTiles:M,instructions:t,status:P,positionsSelected:O})))},k=(t(9),function(){return r.a.createElement(P,{configuration:t(10)})});o.a.render(r.a.createElement(k,null),document.getElementById("root"))}],[[3,1,2]]]);
//# sourceMappingURL=main.1dd4ed6c.chunk.js.map